<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Checker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        input {
            margin: 5px;
            padding: 8px;
            width: 280px;
        }

        button {
            padding: 8px 12px;
            margin-top: 10px;
        }

        .hidden {
            display: none;
        }

        #certificate {
            margin-top: 20px;
        }

        iframe {
            margin-top: 15px;
            border: 1px solid #ccc;
            width: 100%;
            max-width: 800px;
            height: 400px;
        }
    </style>
</head>

<body>
    <h2>Certificate Verification</h2>
    <input id="username" type="text" placeholder="Email"><br>
    <input id="password" type="password" placeholder="Mật khẩu"><br>
    <button onclick="checkLogin()">Xem chứng chỉ</button>

    <div id="certificate" class="hidden">
        <h3>Chứng chỉ của bạn:</h3>
        <a id="certLink" href="" target="_blank">Mở chứng chỉ</a><br>
        <iframe id="certFrame" src=""></iframe>
    </div>

    <script>
        let accounts = [];

        // Đổi URL này sang link raw JSON thật của bạn
        const dataURL = "https://raw.githubusercontent.com/MaxxAlan/FPT.src/main/account.json";

        fetch(dataURL)
            .then(r => r.json())
            .then(data => { accounts = data; })
            .catch(err => console.error("Không load được accounts.json:", err));

        function checkLogin() {
            const u = document.getElementById("username").value.trim();
            const p = document.getElementById("password").value.trim();
            const certDiv = document.getElementById("certificate");
            const certLink = document.getElementById("certLink");
            const certFrame = document.getElementById("certFrame");

            let acc = accounts.find(a => a.username === u && a.password === p);

            if (acc) {
                certDiv.classList.remove("hidden");
                certLink.href = acc.link;
                certLink.textContent = acc.link;
                certFrame.src = acc.link;
            } else {
                alert("Sai tài khoản hoặc mật khẩu.");
            }
        }
    </script>

</body>

</html>